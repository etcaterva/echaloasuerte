{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap %}
{% load i18n %}

{% block extra_jq_ready %}
    var tooltip_text =  "<p><b>Normal Draw:</b> Personal draw in which only you will be able to see the result.</p>" +
                        "<p><b>Shared Draw: </b> You will be able to invite other users in, see the results in live and discuss in the chat.</p>" +
                        "<p class='text-center'><i>(Click to switch between modes)</i></p>";
    $('#select-private-shared' ).tooltip({
        track: true,
        items: "div[title]",
        content: function() {
            return tooltip_text;
        }
    });

    $('#select-private-shared').click(function(){
    var checked = $('#cb5').is(":checked");
        var $is_shared = $('#is-shared');
        $is_shared.prop("checked", !$is_shared.prop("checked"));
    });

    $('.draw-link').click(function (){
        var is_shared =$('#is-shared').prop("checked");
        var create_draw_url = is_shared ? $(this).attr("data-url-shared") : $(this).attr("data-url-normal");
        window.location.href = create_draw_url;
    });
    {% if not user.is_authenticated and is_public %}
        $('#warning-login').modal('show');
    {% endif %}
<!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
window.cookieconsent_options = {"message":"{% trans 'This website uses cookies to ensure you get the best experience on our website' %}","dismiss":"{% trans 'Got it!' %}","learnMore":"{% trans 'More info' %}","link":null,"theme":"light-bottom"};

<!-- End Cookie Consent plugin -->

{% endblock extra_jq_ready %}

{% block content %}
    <script type="text/javascript" src="//s3.amazonaws.com/cc.silktide.com/cookieconsent.latest.min.js"></script>
    {# breadcrumb to assist the creation of a public draw #}
    {% include "snippets/snippet_breadcrumb.html" %}
    <div title="" id="select-private-shared" class="text-center">
        You are creating a
        <input class='tgl tgl-flip' id='is-shared' type='checkbox'>
        <label class='tgl-btn' data-tg-off='Normal' data-tg-on='Shared' for='is-shared'></label>
        draw
    </div>
    <div class="container-draws row">
        <div class="col-sm-6">
            {% include "snippets/snippet_draw_box.html" with draw_type="coin" draw_icon="img/draw_icons/coin.png" title=_("Flip a coin") help=_("Afraid of taking the wrong decision? Don't hesitate and throw the coin!") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="card" draw_icon="img/draw_icons/cards.png" title=_("Take a card") help=_("Let's play some drinking games!") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="dice" draw_icon="img/draw_icons/dice.png" title=_("Roll a dice") help=_("Don't you have a die? Just roll this one") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="tournament" draw_icon="img/draw_icons/tournament.png" title=_("Tournament") help=_("Organising a competition? This is your draw!") %}
        </div>
        <div class="col-sm-6">
            {% include "snippets/snippet_draw_box.html" with draw_type="number" draw_icon="img/draw_icons/random_number.png" title=_("Random number") help=_("Doing a raffle? Luck will decide who is the winner") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="letter" draw_icon="img/draw_icons/random_letter.png" title=_("Random letter") help=_("Not sure what letter to start the lis with? Just click here :)") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="item" draw_icon="img/draw_icons/random_item.png" title=_("Pick random items from a list") help=_("Doing a raffle? Luck will decide who is the winner") %}
            {% include "snippets/snippet_draw_box.html" with draw_type="link_sets" draw_icon="img/draw_icons/item_association.png" title=_("Associate items from two lists") help=_("Cleaning the house? Allocate the tasks within your housemates") %}
        </div>
    </div>

    <!-- Warning "Log in" modal -->
    <div class="modal fade" id="warning-login" tabindex="-1" role="dialog" aria-labelledby="WarningLogin">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">{% trans "May I say something?" %}</h4>
                </div>
                <div class="modal-body">
                    {% trans "I've seen that you are not logged in.<br> Logging in has several benefits when creating a public draw:" %}
                    <ul>
                        <li>{% trans "Only you can toss" %}</li>
                        <li>{% trans "Only you can edit the details of the draw" %}</li>
                        <li>{% trans "Only you can change the level of privacy, invite or remove people" %}</li>
                        <li>{% trans "The draw will be in your history for future access" %}</li>
                    </ul>
                    <div class="text-center" >
                        <a href="{% url 'login' %}" type="button" class="btn btn-success">{% trans "Log in" %}</a>
                        <div id="create-account">
                            <p>{% trans "Don't you have an account yet?" %}<br/>
                            {% trans "It takes only 30 seconds, and <strong>it's totally FREE!</strong>" %}</p>
                            <a href="{% url 'register' %}" type="button" >{% trans "Create an account" %}</a>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "No thanks, I know what I'm doing" %}</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block right_column %}
    <div id="sentences" class="text-center">
        <img src="{{sentence.image}}" alt="{{sentence.alt}}">
        <p>
        {{sentence.text}}<br>
        {% trans "Let the luck decide!" %}
        </p>
    </div>
{% endblock right_column %}
